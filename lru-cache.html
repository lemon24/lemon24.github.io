












<!doctype html>

<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />

<link rel="icon" href="/_static/xo-system-icon.svg">
<link rel="apple-touch-icon" href="/_static/xo-system-icon.svg">







<title>Python stdlib only priority-expiry LRU cache - death and gravity</title>



<meta property="og:title" content="Python stdlib only priority-expiry LRU cache">
<meta property="og:site_name" content="death and gravity">
<meta property="og:type" content="article">
<meta property="og:url" content="https://death.andgravity.com/lru-cache">




<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>





<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1 class="heading-noindex">Python stdlib only priority-expiry LRU cache</h1>

<p class="text-gray text-nowrap">


</p>






</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>It's not your fault I got nerdsniped,
but today we're doing a
least recently used cache with priorities and expiry,
using <strong>only the Python standard library</strong>.</p>
<p>Because this is a common problem in bIG TEch CoDINg InTerVIEWS,
we'll keep far away from the correct™ data structures;
I repeat:
we're <strong>not using heaps</strong>,
and we're <strong>not using binary search trees</strong>.
But we'll end up with a decent solution anyway.</p>








</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24



</footer>


</div>