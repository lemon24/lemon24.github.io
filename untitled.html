<!doctype html>

<meta name="viewport" content="width=device-width" />


<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />




<title>untitled - death and gravity</title>


<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>





<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1>untitled</h1>

<p class="text-gray"><small>

</small></p>

</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>So, you're an &quot;advanced beginner&quot; –
you've learned your way past Python basics,
you know the syntax, and can solve real problems.</p>
<p>Maybe you're about to embark on your first larger project,
but feel at a loss about where to start from,
and how to structure it.</p>
<p>Maybe you're already midway through a large project (not even the first),
but don't know how to make the modules work together.</p>
<p>Maybe what started as a Pythonic script ended up as
not-so-beautiful modules and packages,
and it all gets messy, so quickly;
and you're afraid it will get worse as the project grows larger and larger,
leaving you with some piece of half finished software,
and with no motivation to follow it through,
the initial fun lost forever.</p>
<p>Maybe you read through tutorials and blog posts,
but found that most of them go straight to the solution,
without an in-depth look at possible alternatives.</p>
<p>Maybe you've read about architecture and design patterns,
but they seem too abstract, and you can't see how they apply to <em>your</em> code.</p>
<p>Maybe you're wondering if it's something you can learn at all,
or it's only meant for &quot;computer science people&quot;.</p>
<p>Maybe you've been told you need to &quot;get more experience&quot;.
Maybe you've read that you have to develop an eye
by reading and writing a lot of code.
(While both of these are probably true,
they're not very helpful, and are kinda frustrating.
Where from? How? For how long? Can you speed it up?)</p>
<p>Maybe you've been told that refactoring is a part of life (it is!),
and doing it repeatedly is the best way to learn how it should have been done.</p>
<p>Nevertheless, you may feel it's taking way too long and you'll never get there.</p>
<p>Maybe you've been told to read the code of a project you like;
but they're too large, you don't know where to start, and even so,
from the code itself it's not obvious what the design philosophy was
and what choices were debated before settling on an implementation.</p>
<blockquote>
<p>The best resources for these kinds of things tends to sadly not be free though, but the holistic nature of a book can be very valuable (as opposed to free but smaller blog posts about specific subjects).&quot;</p>
</blockquote>
<h2 id="the-architecture-of-open-source-applications">The Architecture of Open Source Applications<span class="headerlink"> <a href="#the-architecture-of-open-source-applications" title="permalink">#</a></span></h2>
<p>Remember the thing about reading code and the design philosophy and decisions not being obvious?</p>
<p><a href="http://aosabook.org/en/index.html#aosa2">The Architecture of Open Source Applications</a> is a whole book about exactly that (two actually, since there are two volumes) – and it's free!</p>
<p>From their website:</p>
<blockquote>
<p>Architects look at thousands of buildings during their training, and study critiques of those buildings written by masters. In contrast, most software developers only ever get to know a handful of large programs well—usually programs they wrote themselves—and never study the great programs of history. As a result, they repeat one another's mistakes rather than building on one another's successes.</p>
<p>Our goal is to change that. In these two books, the authors of four dozen open source applications explain how their software is structured, and why. What are each program's major components? How do they interact? And what did their builders learn during their development? In answering these questions, the contributors to these books provide unique insights into how they think.</p>
</blockquote>
<p>The discussions can be a bit high level,
since they'ree about mature projects and there's so much you can fit in a book chapter,
although some of them are more in-depth than others.</p>
<p>About a quarter of the chapters are about Python projects;
you will encounter familiar names like
SQLAlchemy, PyPy, Twisted, matplotlib, and Mercurial.</p>
<p>You should also have a look at the non-Python chapters
– there's a <em>lot</em> of wisdom in there.
(Also, I can attribute at least part of the success of a job interview
to having read the nginx chapter. :)</p>
<h3 id="500-lines-or-less">500 Lines or Less<span class="headerlink"> <a href="#500-lines-or-less" title="permalink">#</a></span></h3>
<p><a href="http://aosabook.org/en/index.html#500lines">500 Lines or Less</a> is another book from the same series.</p>
<p>It addresses the <em>Architecture of Open Source Applications</em>
being-too-high-level issue by looking at purpose-made small projects
– again, with a focus on design decisions.</p>
<p>From the introduction:</p>
<blockquote>
<p>The first three volumes in the series were about big problems that big programs have to solve. For an engineer who is early in their career, it may be a challenge to understand and build upon programs that are much bigger than a few thousand lines of code, so, while big problems can be interesting to read about, they can also be challenging to learn from.</p>
</blockquote>
<p>And there's more better news: over <em>half</em> of the projects are in Python.</p>
<p>If you intend to look at Jinja code and talks <a href="#jinja">mentioned below</a>,
I recommend giving the <a href="http://aosabook.org/en/500L/a-template-engine.html">A Template Engine</a> chapter a read;
it'll provide a gentle introduction to the problem being solved,
and examine a (comparatively) simple solution.</p>
<h2 id="python-enhancement-proposals">Python Enhancement Proposals<span class="headerlink"> <a href="#python-enhancement-proposals" title="permalink">#</a></span></h2>
<p>https://www.python.org/dev/peps/pep-0428/ pathlib
https://www.python.org/dev/peps/pep-0450/ statistics</p>
<p>https://bugs.python.org/issue17005 graphlib</p>
<h2 id="jinja">Jinja<span class="headerlink"> <a href="#jinja" title="permalink">#</a></span></h2>
<p>https://speakerdeck.com/mitsuhiko/code-generation-in-python-dismantling-jinja</p>
<p>https://speakerdeck.com/mitsuhiko/lets-talk-about-templates</p>
<h2 id="reader-stuff">reader stuff?<span class="headerlink"> <a href="#reader-stuff" title="permalink">#</a></span></h2>
<p>I tend to write about these things for my projects, especially when implementing a larger feature that affects the API – I personally find that &quot;thinking out loud&quot; makes it easier to think. (As a bonus, it is very helpful for your colleagues, if you work in a team, or for you 6-12 months from now – you <em>will</em> forget things.)</p>
<p>I maintain <a href="https://reader.readthedocs.io/en/latest/dev.html#design-notes">a list of various comments of this sort</a> for my Python feed reader library for easy reference. If you're interested, here's some of the ones I'm most happy with:</p>
<ul>
<li><a href="https://github.com/lemon24/reader/issues/168#issuecomment-642002049">Multiple storage implementations</a>, so you can select different backends based on a &quot;connection string&quot;, e.g. <code>/path/to/sqlite.db</code> or <code>sqlalchemy+postgresql://user:pass@host/db</code>. To &quot;prepare&quot; for this, I did a case study on <a href="https://github.com/lemon24/reader/issues/168#issuecomment-641992780">how SQLAlchemy does it</a> (looked at their docs and code, and took notes about what seemed relevant to me).</li>
<li><a href="https://github.com/lemon24/reader/issues/122#issuecomment-591302580">Full-text search API</a>, so you can search through the articles. I used SQLite, but did my best to allow using something else in the future without having to change the API. (It may seem huge and maybe well-structured, but it wasn't like that from the start – I just wrote a few things, and added headers and more things as I went along.)</li>
<li><a href="https://github.com/lemon24/reader/issues/196#issuecomment-706038363">Pagination</a>; again, note that I stole ideas from the Stripe API and other places :)</li>
</ul>







</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24
</footer>


</div>