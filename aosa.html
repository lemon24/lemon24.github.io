<!doctype html>

<meta name="viewport" content="width=device-width" />


<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />




<title>aosa - death and gravity</title>


<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>





<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1>aosa</h1>

<p class="text-gray"><small>

</small></p>

</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>So, you're an &quot;advanced beginner&quot; –
you've learned your way past Python basics,
you know the syntax, and can solve real problems.</p>
<p>Maybe you're about to embark on your first larger project,
but feel at a loss about where to start from,
and how to structure it.</p>
<p>Maybe you're already midway through a large project (not even the first),
but don't know how to make the modules work together.</p>
<p>Maybe what started as a Pythonic script ended up as
not-so-beautiful modules and packages,
and it all gets messy, so quickly;
and you're afraid it will get worse as the project grows larger and larger,
leaving you with some piece of half finished software,
and with no motivation to follow it through,
the initial fun lost forever.</p>
<p>Maybe you read through tutorials and blog posts,
but found that most of them go straight to the solution,
without an in-depth look at possible alternatives.</p>
<p>Maybe you've read about architecture and design patterns,
but they seem too abstract, and you can't see how they apply to <em>your</em> code.</p>
<p>Maybe you're wondering if it's something you can learn at all,
or it's only meant for &quot;computer science people&quot;.</p>
<p>Maybe you've been told you need to &quot;get more experience&quot;.
Maybe you've read that you have to develop an eye
by reading and writing a lot of code.
(While both of these are probably true,
they're not very helpful, and are kinda frustrating.
Where from? How? For how long? Can you speed it up?)</p>
<p>Maybe you've been told that refactoring is a part of life (it is!),
and doing it repeatedly is the best way to learn how it should have been done.</p>
<p>Nevertheless, you may feel it's taking way too long and you'll never get there.</p>
<p>Maybe you've been told to read the code of a project you like;
but they're too large, you don't know where to start, and even so,
from the code itself it's not obvious what the design philosophy was
and what choices were debated before settling on an implementation.</p>
<blockquote>
<p>The best resources for these kinds of things tends to sadly not be free though, but the holistic nature of a book can be very valuable (as opposed to free but smaller blog posts about specific subjects).&quot;</p>
</blockquote>
<h2 id="the-architecture-of-open-source-applications">The Architecture of Open Source Applications<span class="headerlink"> <a href="#the-architecture-of-open-source-applications" title="permalink">#</a></span></h2>
<p>Remember the thing about reading code and the design philosophy and decisions not being obvious?</p>
<p><a href="http://aosabook.org/en/index.html#aosa2">The Architecture of Open Source Applications</a> is a whole book about exactly that (two actually, since there are two volumes) – and it's free!</p>
<p>From their website:</p>
<blockquote>
<p>Architects look at thousands of buildings during their training, and study critiques of those buildings written by masters. In contrast, most software developers only ever get to know a handful of large programs well—usually programs they wrote themselves—and never study the great programs of history. As a result, they repeat one another's mistakes rather than building on one another's successes.</p>
<p>Our goal is to change that. In these two books, the authors of four dozen open source applications explain how their software is structured, and why. What are each program's major components? How do they interact? And what did their builders learn during their development? In answering these questions, the contributors to these books provide unique insights into how they think.</p>
</blockquote>
<p>The discussions can be a bit high level,
since they're about mature projects and there's so much you can fit in a book chapter,
although some of them are more in-depth than others.</p>
<p>About a quarter of the chapters are about Python projects;
you will encounter familiar names like
SQLAlchemy, PyPy, Twisted, matplotlib, and Mercurial.</p>
<p>You should also have a look at the non-Python chapters
– there's a <em>lot</em> of wisdom in there.
(Also, I can attribute at least part of the success of a job interview
to having read the nginx chapter. :)</p>
<h3 id="500-lines-or-less">500 Lines or Less<span class="headerlink"> <a href="#500-lines-or-less" title="permalink">#</a></span></h3>
<p><a href="http://aosabook.org/en/index.html#500lines">500 Lines or Less</a> is another book from the same series.</p>
<p>It addresses the <em>Architecture of Open Source Applications</em>
being-too-high-level issue by looking at purpose-made small projects
– again, with a focus on design decisions.</p>
<p>From the introduction:</p>
<blockquote>
<p>The first three volumes in the series were about big problems that big programs have to solve. For an engineer who is early in their career, it may be a challenge to understand and build upon programs that are much bigger than a few thousand lines of code, so, while big problems can be interesting to read about, they can also be challenging to learn from.</p>
</blockquote>
<p>And there's more better news: over <em>half</em> of the projects are in Python.</p>
<p>If you intend to look at Jinja code and talks <a href="#jinja">mentioned below</a>,
I recommend giving the <a href="http://aosabook.org/en/500L/a-template-engine.html">A Template Engine</a> chapter a read;
it'll provide a gentle introduction to the problem being solved,
and examine a (comparatively) simple solution.</p>
<h2 id="jinja">Jinja<span class="headerlink"> <a href="#jinja" title="permalink">#</a></span></h2>
<p>If the <a href="http://aosabook.org/en/500L/a-template-engine.html">template engine</a> <em>500 Lines ...</em> chapter got your interest,
you may want to take a look at <a href="https://jinja.palletsprojects.com/">Jinja</a>.</p>
<p>Jinja is one of the most used template engines for Python,
and if you used Flask, you've probably already used it.
It's been refined for over 14 years,
and like all of the projects in the <a href="https://palletsprojects.com/p/">Flask ecosystem</a>,
has a great API.</p>
<p>I recommend you dive into the source by starting from the <a href="https://github.com/pallets/jinja/blob/2.11.3/src/jinja2/environment.py#L141">Environment</a> class,
after reading the <a href="https://jinja.palletsprojects.com/api/#basics">Basics</a> and <a href="https://jinja.palletsprojects.com/api/#high-level-api">High Level API</a> sections of the API documentation.</p>
<p>There are two talks given by Jinja's main author, Armin Ronacher,
to lead you on your journey:</p>
<ul>
<li><a href="https://speakerdeck.com/mitsuhiko/code-generation-in-python-dismantling-jinja">Code Generation in Python: Dismantling Jinja</a>
(<a href="https://www.youtube.com/watch?v=jXlR0Icvvh8">recording</a>)
walks through the design of Jinja's compiler infrastructure,
why it works the way it works,
and how it ended up where it is after many different iterations.</li>
<li><a href="https://speakerdeck.com/mitsuhiko/lets-talk-about-templates">Let's Talk About Templates</a>
(<a href="https://www.youtube.com/watch?v=rHmljD-oZrY">recording</a>)
compares Jinja and Django's templates,
looking at how their different histories and constraints
led to vastly different internal designs.</li>
</ul>
<p>If you liked these, you can find all of Armin's talks
<a href="https://lucumr.pocoo.org/talks/">here</a>.
<em>Letters from the Battlefield</em> and <em>Good API Design</em>
are especially nice higher-level design lessons,
with examples from the Flask and Jinja world.</p>
<hr />
<p>That's it for now :)</p>





<form
    action="https://gmail.us7.list-manage.com/subscribe/post?u=9909b0e978d8d8d941bd3c8dc&amp;id=c61d63d661"
    method="post"
    id="mc-embedded-subscribe-form"
    name="mc-embedded-subscribe-form"
    target="_blank"
    novalidate
    class="panel subscribe-form"

>
    <div class="panel-header text-large">

        Want to know when new articles come out?

    </div>
    <div class="panel-body">

        <p>Drop your email in the box below and I'll send new stuff straight to your inbox!</p>

        <div class="form-group col-6 col-xs-12 col-md-9">
        <input type="text" name="FNAME" id="mce-FNAME"
            class="form-input input-lg"
            placeholder="Your first name"
        >
        </div>

        <div class="form-group col-6 col-xs-12 col-md-9">
        <input type="email" name="EMAIL" id="mce-EMAIL"
            class="form-input input-lg"
            placeholder="Your email address"
        >
        </div>

        <!-- bot prevention-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9909b0e978d8d8d941bd3c8dc_c61d63d661" tabindex="-1" value=""></div>

    </div>
    <div class="panel-footer">


        <div class="form-group">
        <input type="submit"  name="subscribe" id="mc-embedded-subscribe"
            class="btn btn-primary btn-lg"
            value="Subscribe"
        >
        </div>

    </div>

</form>



</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24
</footer>


</div>