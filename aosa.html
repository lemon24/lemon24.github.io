












<!doctype html>

<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />

<link rel="icon" href="/_static/xo-system-icon.svg">
<link rel="apple-touch-icon" href="/_static/xo-system-icon.svg">







<title>Struggling to structure code in larger programs? Great resources a beginner might not find so easily - death and gravity</title>
<meta name="description" content="Are you having trouble making the modules work together in a larger project? Have you tried looking at popular projects as models, but were put off by their size and scope, or found it hard to see why they did the things they did? Resources about this do exist, but they&#39;re scattered all over, and might be hard to find for someone early in their programming journey." />


<meta property="og:title" content="Struggling to structure code in larger programs? Great resources a beginner might not find so easily">
<meta property="og:site_name" content="death and gravity">
<meta property="og:type" content="article">
<meta property="og:url" content="https://death.andgravity.com/aosa">
<meta property="og:description" content="Are you having trouble making the modules work together in a larger project? Have you tried looking at popular projects as models, but were put off by their size and scope, or found it hard to see why they did the things they did? Resources about this do exist, but they&#39;re scattered all over, and might be hard to find for someone early in their programming journey.">



<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4RY2QR580X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', "G-4RY2QR580X");
</script>



<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1 class="heading-noindex">Struggling to structure code in larger programs? Great resources a beginner might not find so easily</h1>

<p class="text-gray text-nowrap">



<small>
<span class="tooltip" data-tooltip="published on 2021-03-10">March 2021</span>
∙ four minute read
∙
</small><span class="share-icons">
<a
    class="share-icon pycoders"
    href="https://pycoders.com/submissions"
    target="_blank"
>PyCoder's Weekly</a>
<a
    class="share-icon hacker-news"
    href="https://news.ycombinator.%63%6f%6d/submitlink?u=https%3A//death.andgravity.com/aosa&t=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily"
>HN</a>
<a
    class="share-icon reddit"
    href="https://www.reddit.%63%6f%6d/%73%75%62%6d%69%74?url=https%3A//death.andgravity.com/aosa&title=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily"
>Reddit</a>
<a
    class="share-icon linkedin"
    href="https://www.linkedin.%63%6f%6d/sharing/share-offsite/?url=https%3A//death.andgravity.com/aosa"
>linkedin</a>
<a
    class="share-icon twitter"
    href="https://twitter.%63%6f%6d/%73%68%61%72%65?text=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily&url=https%3A//death.andgravity.com/aosa&via=_andgravity"
>Twitter</a>
</span>


</p>






</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>So, you're an advanced beginner –
you've learned your way past Python basics
and can solve real problems.</p>
<p>Maybe you're about to embark on your first larger project,
but feel at a loss about where to start from,
and how to structure it,
and don't want to make any mistakes.</p>
<p>Or you're midway through a large project already (not even your first),
but don't know how to make the modules work together;
what started as a pythonic script ended up as
not-so-beautiful modules and packages,
and <em>it all gets messy, so quickly</em>.</p>
<p>Maybe you feel most tutorials and blog posts
go straight to <em>one solution to a simple, made-up problem</em>,
without an in-depth look at alternatives.</p>
<p>You've tried reading about architecture and design patterns,
but they seem <em>too abstract</em>,
and you can't see how they apply to <em>your</em> code.</p>
<p>You may have heard that you have to develop an eye
by reading and writing a lot of code.
That there are so many Python projects on GitHub
– &quot;just pick one you like and see how they did it&quot;.</p>
<p>But they're too large and you don't know <em>where to start</em>, and even if you did,
from the code itself <em>it's not obvious</em> what the design philosophy was
and what choices they considered before settling on an implementation.</p>
<p>If any of this sounds familiar,
<strong>here's a few resources that might help</strong>.</p>
<h2 id="the-architecture-of-open-source-applications">The Architecture of Open Source Applications<span class="headerlink">&nbsp;<a href="#the-architecture-of-open-source-applications" title="permalink">#</a></span></h2>
<p>Remember reading code and the design decisions not being obvious?</p>
<p><a class="external" href="http://aosabook.org/en/index.html#aosa2">The Architecture of Open Source Applications</a>
is a whole book about exactly that
(two actually, since there are two volumes) – and it's free!</p>
<p>From their website:</p>
<blockquote>
<p>Architects look at thousands of buildings during their training, and study critiques of those buildings written by masters. In contrast, most software developers only ever get to know a handful of large programs well—usually programs they wrote themselves—and never study the great programs of history. As a result, they repeat one another's mistakes rather than building on one another's successes.</p>
<p>Our goal is to change that. In these two books, the authors of four dozen open source applications explain how their software is structured, and why. What are each program's major components? How do they interact? And what did their builders learn during their development? In answering these questions, the contributors to these books provide unique insights into how they think.</p>
</blockquote>
<p>About <strong>a quarter of the chapters are about Python projects</strong>;
you will encounter familiar names like
SQLAlchemy, PyPy, Twisted, matplotlib, and Mercurial.</p>
<p>The discussions can be a bit high level,
since they're all mature and relatively large projects
(and there's only so much you can fit in a book chapter),
although some of them are more in-depth than others.</p>
<p>You should have a look at the non-Python chapters as well
– there's a <em>lot</em> of wisdom in there.
Also, at least part of the success of my last job interview
was due to having read the nginx chapter :)</p>



<div class="panel inline-panel" >
    <div class="panel-header text-large">
        Liking this so far? Here&#39;s another article you might like:
    </div>
    <div class="panel-body">
        <p><a href="/stdlib">
            Learn by reading code: Python standard library design decisions explained
        </a>
    </div>
</div>
<h3 id="500-lines-or-less">500 Lines or Less<span class="headerlink">&nbsp;<a href="#500-lines-or-less" title="permalink">#</a></span></h3>
<p><a class="external" href="http://aosabook.org/en/index.html#500lines">500 Lines or Less</a> is another book from the
<abbr title="Architecture of Open Source Applications">AOSA</abbr> series.</p>
<p>It aims to address the initial books being too high-level
by looking at purpose-made small projects
(again, focusing on design decisions).
From the introduction:</p>
<blockquote>
<p>The first three volumes in the series were about big problems that big programs have to solve. For an engineer who is early in their career, it may be a challenge to understand and build upon programs that are much bigger than a few thousand lines of code, so, while big problems can be interesting to read about, they can also be challenging to learn from.</p>
</blockquote>
<p>And there's more better news: <strong>over half of the chapters are in Python</strong>.</p>
<p>If you ever wondered how templating engines work,
give the <a class="external" href="http://aosabook.org/en/500L/a-template-engine.html">A Template Engine</a> chapter a read.
It will provide a gentle introduction to the problem
and examine a relatively simple solution
(but not that simple that it's not useful anymore –
that's actually the template engine <a class="external" href="https://coverage.readthedocs.io/">coverage.py</a> uses
to produce its HTML reports).</p>
<h2 id="jinja">Jinja<span class="headerlink">&nbsp;<a href="#jinja" title="permalink">#</a></span></h2>
<p>If the <em>500 Lines or Less</em> <a class="external" href="http://aosabook.org/en/500L/a-template-engine.html">template engine</a> chapter got your interest,
you may want to take a look at <a class="external" href="https://jinja.palletsprojects.com/">Jinja</a>.</p>
<p>Jinja is one of the most used template engines for Python,
and if you used Flask, you've probably already used it.
It's been refined for over 14 years,
and like all the <a class="external" href="https://palletsprojects.com/">Pallets projects</a>, has a great API.</p>
<p>I recommend you dive into the source starting from the <a class="external" href="https://github.com/pallets/jinja/blob/2.11.3/src/jinja2/environment.py#L141">Environment</a> class,
after reading the <a class="external" href="https://jinja.palletsprojects.com/api/#basics">Basics</a> and <a class="external" href="https://jinja.palletsprojects.com/api/#high-level-api">High Level API</a>
sections of the API documentation first.</p>
<p>There are two talks given by Jinja's main author, Armin Ronacher,
to lead you on your journey:</p>
<ul>
<li><a class="external" href="https://speakerdeck.com/mitsuhiko/code-generation-in-python-dismantling-jinja">Code Generation in Python: Dismantling Jinja</a>
(<a class="external" href="https://www.youtube.com/watch?v=jXlR0Icvvh8">recording</a>)
walks through the design of Jinja's compiler infrastructure,
why it works the way it works,
and how it ended up where it is after many different iterations.</li>
<li><a class="external" href="https://speakerdeck.com/mitsuhiko/lets-talk-about-templates">Let's Talk About Templates</a>
(<a class="external" href="https://www.youtube.com/watch?v=rHmljD-oZrY">recording</a>)
compares Jinja and Django's templates,
looking at how their different histories and constraints
led to vastly different internal designs.</li>
</ul>
<p>You can find all of Armin's talks
<a class="external" href="https://lucumr.pocoo.org/talks/">here</a>.
<em>Letters from the Battlefield</em> and <em>Good API Design</em>
are especially nice higher-level design lessons,
with examples from the Flask and Jinja world.</p>
<hr />
<p>That's it for now.</p>
<p><strong>Learned something new today?</strong> Share this with others, it really helps! <span class="text-large">
<span class="share-icons">
<a
    class="share-icon pycoders color"
    href="https://pycoders.com/submissions"
    target="_blank"
>PyCoder's Weekly</a>
<a
    class="share-icon hacker-news color"
    href="https://news.ycombinator.%63%6f%6d/submitlink?u=https%3A//death.andgravity.com/aosa&t=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily"
>HN</a>
<a
    class="share-icon reddit color"
    href="https://www.reddit.%63%6f%6d/%73%75%62%6d%69%74?url=https%3A//death.andgravity.com/aosa&title=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily"
>Reddit</a>
<a
    class="share-icon linkedin color"
    href="https://www.linkedin.%63%6f%6d/sharing/share-offsite/?url=https%3A//death.andgravity.com/aosa"
>linkedin</a>
<a
    class="share-icon twitter color"
    href="https://twitter.%63%6f%6d/%73%68%61%72%65?text=Struggling%20to%20structure%20code%20in%20larger%20programs%3F%20Great%20resources%20a%20beginner%20might%20not%20find%20so%20easily&url=https%3A//death.andgravity.com/aosa&via=_andgravity"
>Twitter</a>
</span>
</span></p>

<form
    action="https://gmail.us7.list-manage.com/subscribe/post?u=9909b0e978d8d8d941bd3c8dc&amp;id=c61d63d661&SIGNUP=aosa"
    method="post"
    id="embedded-subscribe-form"
    name="mc-embedded-subscribe-form"
    target="_blank"
    novalidate
    class="panel subscribe-form"
>
    <div class="panel-header text-large">

        Want to know when new articles come out?

    </div>
    <div class="panel-body">

        <p>Drop your email in the box below and I'll send new stuff straight to your inbox!</p>

        <div class="form-group col-6 col-xs-12 col-md-9">
        <input type="text" name="FNAME" id="mce-FNAME"
            class="form-input input-lg"
            placeholder="Your first name"
        >
        </div>

        <div class="form-group col-6 col-xs-12 col-md-9">
        <input type="email" name="EMAIL" id="mce-EMAIL"
            class="form-input input-lg"
            placeholder="Your email address"
        >
        </div>

        <!-- bot prevention-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9909b0e978d8d8d941bd3c8dc_c61d63d661" tabindex="-1" value=""></div>

    </div>
    <div class="panel-footer">

        <div class="form-group">
        <input type="submit"  name="subscribe" id="mc-embedded-subscribe"
            class="btn btn-primary btn-lg"
            value="Subscribe"
        >
        </div>

    </div>

</form>










<hr>
<p>This is part of a series:</p>

<ul>


<li>
    <a href="/aosa">Struggling to structure code in larger programs? Great resources a beginner might not find so easily</a> <small class="text-gray">(this article)</small>



<li>
    <a href="/stdlib">Learn by reading code: Python standard library design decisions explained</a>


</ul>





</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24



</footer>


</div>