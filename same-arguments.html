<!doctype html>

<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />











<title>When to use classes: if you have a bunch of functions that take the same arguments - death and gravity</title>


<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>





<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1 class="heading-noindex">When to use classes: if you have a bunch of functions that take the same arguments</h1>

<p class="text-gray"><small>





</small></p>






</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>Are you having trouble figuring out when to use classes or how to organize them?</p>
<p>Have you repeatedly searched for &quot;when to use classes in Python&quot;,
read a bunch of stuff, watched a bunch a talks,
and <em>still</em>  don't know whether you should be using classes in any given situation?</p>
<p>Have you read discussions about it that <em>may</em> be right,
but they're so academic you can't parse the jargon?</p>
<p>Have you read discussions that all treat the obvious cases,
leaving you with no clear answer whey you try to apply them to your code?</p>
<p>Are you worried you're not using enough
abstraction / encapsulation / inheritance / polymorphism?
Afraid you won't understand them until you see them applied?</p>
<blockquote>
<p>My experience is that, unfortunately, the best way to learn (and keep learning) these things is to look at a ton of examples. Guidelines tend to be too vague for anyone who doesn't already know enough about the subject. It's one of those things that once you've learned it seems obvious and intuitive, but it's not and it's very easy to fool yourself into think you've got this (in general, everyone has lots to learn about class design, when to use, how to use, why to use, ...).</p>
</blockquote>
<blockquote>
<p>If not prescribing a general approach, maybe detailing the considerations you should have in mind when making such a decision.</p>
</blockquote>
<blockquote>
<p>The use of these powerful OO techniques [inheritance/polymorphism] is never a goal in itself; you will only need them when the level of complexity becomes a concern.</p>
</blockquote>
<h2 id="tool-heuristic">tool / heuristic<span class="headerlink"> <a href="#tool-heuristic" title="permalink">#</a></span></h2>
<blockquote>
<p>If you have a <em>couple of functions that you are passing in the same arguments to over and over</em>, consider a class. A class is when you have data and methods that are interrelated. If you have a class with only 2 methods, and one of them is init, consider not using a class.</p>
</blockquote>
<blockquote>
<p>The best hint that it's time to make a class is if you find yourself making a bunch of functions that take the same bunch of arguments. Those arguments should be the attributes and the functions should be methods.</p>
</blockquote>
<h2 id="example-reader-highlightedstring">example: reader HighlightedString<span class="headerlink"> <a href="#example-reader-highlightedstring" title="permalink">#</a></span></h2>
<ul>
<li>3 functions: __post_init__ (validate), split, apply</li>
<li>bonus: by sticking validation in __post_init__, we ensure we cannot have an invalid string; thus, split/apply don't have to validate anything<ul>
<li>the type encapsulates the idea of string+highlights that are valid for it</li>
</ul>
</li>
<li>bonus: fourth function takes string and amrkers and returns string+highlights; makes sense for it to be an alternate constructor; makes it more discoverable</li>
</ul>
<h2 id="example-os-path-posixpath-ntpath-pathlib-pure-path">example: os.path / posixpath / ntpath, pathlib Pure*Path<span class="headerlink"> <a href="#example-os-path-posixpath-ntpath-pathlib-pure-path" title="permalink">#</a></span></h2>
<ul>
<li>parts: the path, the type</li>
<li>twist: one of the arguments is implied (type)</li>
<li>refer to stdlib article</li>
</ul>
<h2 id="example-reader-entry-filter-options">example: reader entry filter options<span class="headerlink"> <a href="#example-reader-entry-filter-options" title="permalink">#</a></span></h2>
<ul>
<li>twist: the methods don't live on it</li>
</ul>
<h2 id="caveat-sometimes-a-function-applies-to-many-differnt-kinds-of-arguments">caveat: sometimes a function applies to many differnt kinds of arguments<span class="headerlink"> <a href="#caveat-sometimes-a-function-applies-to-many-differnt-kinds-of-arguments" title="permalink">#</a></span></h2>
<ul>
<li>example: len</li>
<li>example: various numpy functions</li>
</ul>
<h2 id="caveat-single-method">caveat: single method<span class="headerlink"> <a href="#caveat-single-method" title="permalink">#</a></span></h2>
<blockquote>
<p>If you have a class with only 2 methods, and one of them is init, consider not using a class.</p>
</blockquote>
<h2 id="caveat-if-the-arguments-change-can-be-confusing">caveat: if the arguments change, can be confusing<span class="headerlink"> <a href="#caveat-if-the-arguments-change-can-be-confusing" title="permalink">#</a></span></h2>
<ul>
<li><p>solution: make things immutable (werkzeug accept, pathlib)</p>
<ul>
<li>example: werkzeug datastructures accept</li>
</ul>
</li>
<li><p>parts: just the things</p>
</li>
<li><p>twist: sometimes it's just one argument</p>
</li>
</ul>
<h2 id="try-it-out">try it out<span class="headerlink"> <a href="#try-it-out" title="permalink">#</a></span></h2>
<blockquote>
<p>When doing something where you think you might need a class, <em>try doing or not doing it depending on what you think</em>. If you think you shouldn't use one, don't and just switch it to a class later on if your wrong.</p>
</blockquote>
<blockquote>
<p>not sure it would be beneficial to group input and functions into classes</p>
<p>If being able to call the function is enough for me to avoid duplicating code should I leave it as a standalone function?</p>
</blockquote>
<blockquote>
<p>TL;DR: classes are often good; don't overuse them and don't be dogmatic; consider multiple approaches; be open-minded as you get more experience</p>
</blockquote>
<blockquote>
<p>Abstraction is good when it's good, but when it's premature or bad, it can slow down development. It's nice when libraries that use classes after careful consideration of what the correct abstractions are and what their API should feel like, but abstraction is a difficult process that doesn't necessarily need to be done to the extreme in everyday code.</p>
</blockquote>













</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24



</footer>


</div>