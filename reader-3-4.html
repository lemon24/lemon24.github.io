






<!doctype html>

<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="/_static/spectre.css">
<link rel="stylesheet" href="/_static/pygments.css">
<link rel="stylesheet" href="/_static/style.css">

<link rel="alternate" type="application/atom+xml" title="Atom feed" href="/_feed/index.xml" />

<link rel="icon" href="/_static/xo-system-icon.svg">
<link rel="apple-touch-icon" href="/_static/xo-system-icon.svg">







<title>reader 3.4 released – 5 years, 2000 commits - death and gravity</title>




<script>
/* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/ */
function set_vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
/* we do it once, now, *and* on every resize */
set_vh();
window.addEventListener('resize', set_vh);
</script>





<div class="main container grid-lg">


<header>
<nav>
<ul class="breadcrumb">

<li class="breadcrumb-item">
    <a href="/">death and gravity</a>
</li>

</ul>
</nav>

<h1 class="heading-noindex">reader 3.4 released – 5 years, 2000 commits</h1>

<p class="text-gray text-nowrap">



<small>
<span class="tooltip" data-tooltip="published on 2023-01-24">January 2023</span>
∙ four minute read
∙
</small><span class="share-icons">
<a
    class="share-icon twitter"
    href="https://twitter.%63%6f%6d/%73%68%61%72%65?text=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits&url=https%3A//death.andgravity.com/reader-3-4&via=_andgravity"
>Twitter</a>
<a
    class="share-icon hacker-news"
    href="https://news.ycombinator.%63%6f%6d/submitlink?u=https%3A//death.andgravity.com/reader-3-4&t=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits"
>HN</a>
<a
    class="share-icon reddit"
    href="https://www.reddit.%63%6f%6d/%73%75%62%6d%69%74?url=https%3A//death.andgravity.com/reader-3-4&title=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits"
>Reddit</a>
</span>


</p>






</header>


<main class="content columns">
<div class="column col-sm-12 col-md-10 col-8">

<p>Hi there!</p>
<p>I'm happy to announce version 3.4 of <strong><a href="https://github.com/lemon24/reader">reader</a></strong>, a Python feed reader library.</p>
<p>More importantly, reader is now 5 years old!</p>
<h2 id="5-years-2000-commits">5 years, 2000 commits<span class="headerlink"> <a href="#5-years-2000-commits" title="permalink">#</a></span></h2>
<p>3.3, released in December, marks <em>reader</em>'s <a href="https://github.com/lemon24/reader/commit/73ac0bd3b8d0e5429e0bd7caf5281e4c9c74f16d">5th anniversary</a> and its <a href="https://github.com/lemon24/reader/tree/3.3">2000th commit</a>.</p>
<p>I don't really know what to say,
so I'll just say something that I hope might help others.</p>
<p>I'm happy about it.
But more than that,
I'm proud of it <em>growing into</em> what it is.</p>
<p><em>reader</em> started as a hobby and learning project,
scratch-your-own itch kind of thing.
Starting off, I had two goals:
it should be a library, 
and it should be for the long term.<sup class="footnote-ref" id="fnref-1"><a href="#fn-1">1</a></sup></p>
<p>It continued beyond that, into an experiment.</p>
<p>First, on applying <a href="https://en.wikipedia.org/wiki/Pieter_Hintjens">Pieter Hintjens</a>' <a href="https://hintjens.gitbooks.io/scalable-c/content/chapter1.html#problem-what-do-we-do-next">problem-solution</a> approach,
and the ideas in the
<a href="https://programmingisterrible.com/post/139222674273/write-code-that-is-easy-to-delete-not-easy-to">Write code that is easy to delete, not easy to extend</a> and
<a href="https://programmingisterrible.com/post/176657481103/repeat-yourself-do-more-than-one-thing-and">Repeat yourself, do more than one thing, and rewrite everything</a>
essays by tef of <a href="https://programmingisterrible.com/">programming is terrible</a>.</p>
<p>Second, and more mundane, it was an exercise
in how testing and type checking
keep code maintainable over time.
&quot;Everyone knows&quot; they are good things™,
but most jobs rarely emphasize the <em>over time</em> part;
I know mine at the time didn't.
I wanted a place where I could get an intuitive feel for it.</p>
<p>Judging the success of either is probably highly subjective.
Nevertheless, <em>I think</em> they were both wildly successful.
<em>reader</em> is still alive and kicking,
and I've developed habits and ways of solving problems 
that I've been able to apply in my professional life.</p>
<p>Sure, <em>reader</em> has flaws, and it's definitely not done (what is?),
but it's the longest project I've ever worker on,
and probably the best code I've ever written.</p>
<p>(If you'd like to read more about any of the above, <a href="/about#contact">do let me know</a>.)</p>
<p>Finally, I feel I have to say that while not hugely popular, 
<em>reader</em> is still more popular than I could've dreamt 5 years ago,
especially for such a niche topic. Thank you!</p>
<h2 id="what-s-new">What's new?<span class="headerlink"> <a href="#what-s-new" title="permalink">#</a></span></h2>
<p>Here are the highlights since <a href="/reader-3-0">reader 3.0</a>.</p>
<h3 id="parser-internal-api">Parser internal API<span class="headerlink"> <a href="#parser-internal-api" title="permalink">#</a></span></h3>
<!-- 3.4 -->
<p>Document the parser internal API.</p>
<p>confident won't change too much</p>
<p>most useful for plugins -- list plugins that use it</p>
<h3 id="faster-imports">Faster imports<span class="headerlink"> <a href="#faster-imports" title="permalink">#</a></span></h3>
<!-- 3.3 -->
<p>Postpone update-related imports until needed.
Shortens time from process start to usable Reader instance by 3x
(imports are 72% faster).</p>
<h3 id="simpler-entry-sorting">Simpler entry sorting<span class="headerlink"> <a href="#simpler-entry-sorting" title="permalink">#</a></span></h3>
<!-- 3.1 -->
<p>Sort entries by added date most of the time,
with the exception of those imported on the first update.
Previously, entries would be sorted by added
only if they were published less than 7 days ago,
causing entries that appear in the feed months after their published
to never appear at the top (so the user would never see them).</p>
<h3 id="fewer-dependencies">Fewer dependencies<span class="headerlink"> <a href="#fewer-dependencies" title="permalink">#</a></span></h3>
<!-- 3.1 -->
<p>Drop :mod:<code>~reader.plugins.readtime</code> plugin dependency
on <code>readtime &lt;https://github.com/alanhamlett/readtime_&gt;</code>_
(which has a transitive dependency on lxml,
which does not always have PyPy Windows wheels on PyPI).
The <code>readtime</code> extra is deprecated,
but remains available to avoid breaking dependent packages.</p>
<h3 id="python-versions">Python versions<span class="headerlink"> <a href="#python-versions" title="permalink">#</a></span></h3>
<p><em>reader</em> 3.3 adds support for Python 3.11, and
3.4 drops support for Python 3.8.</p>
<h3 id="bug-fixes">Bug fixes<span class="headerlink"> <a href="#bug-fixes" title="permalink">#</a></span></h3>
<p>Lots, mainly to plugins:</p>
<p>entry_dedupe readtime mark_as_read reader._plugins.twitter</p>
<hr />
<p>For more details, see the full <a href="https://reader.readthedocs.io/en/stable/changelog.html#version-3-4">changelog</a>.</p>
<hr />
<p>That's it for now.</p>
<p><strong>Learned something new today?</strong> Share this with others, it really helps! <span class="text-large">
<span class="share-icons">
<a
    class="share-icon twitter color"
    href="https://twitter.%63%6f%6d/%73%68%61%72%65?text=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits&url=https%3A//death.andgravity.com/reader-3-4&via=_andgravity"
>Twitter</a>
<a
    class="share-icon hacker-news color"
    href="https://news.ycombinator.%63%6f%6d/submitlink?u=https%3A//death.andgravity.com/reader-3-4&t=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits"
>HN</a>
<a
    class="share-icon reddit color"
    href="https://www.reddit.%63%6f%6d/%73%75%62%6d%69%74?url=https%3A//death.andgravity.com/reader-3-4&title=reader%203.4%20released%20%E2%80%93%205%20years%2C%202000%20commits"
>Reddit</a>
</span>
</span></p>

<h2 id="what-is-reader">What is <em>reader</em>?<span class="headerlink"> <a href="#what-is-reader" title="permalink">#</a></span></h2>
<p><strong>reader</strong> takes care
of the core functionality required by a feed reader,
so you can focus on what makes <strong>yours</strong> different.</p>
<p><img class="img-responsive" src="/_file/reader-2-0/reader.png" alt="reader in action" />
<em>reader</em> allows you to:</p>
<ul>
<li>retrieve, store, and manage <strong>Atom</strong>, <strong>RSS</strong>, and <strong>JSON</strong> feeds<ul>
<li>and even follow <strong>Twitter</strong> accounts</li>
</ul>
</li>
<li>mark articles as read or important</li>
<li>add arbitrary tags/metadata to feeds and articles</li>
<li>filter feeds and articles</li>
<li>full-text search articles</li>
<li>get statistics on feed and user activity</li>
<li>write plugins to extend its functionality</li>
</ul>
<p>...all these with:</p>
<ul>
<li>a stable, clearly documented API</li>
<li>excellent test coverage</li>
<li>fully typed Python</li>
</ul>
<p>To find out more, check out the <a href="https://github.com/lemon24/reader">GitHub repo</a> and the <a href="https://reader.readthedocs.io/en/stable/">docs</a>,
or give the <a href="https://reader.readthedocs.io/en/stable/tutorial.html">tutorial</a> a try.</p>
<h2 id="why-use-a-feed-reader-library">Why use a feed reader library?<span class="headerlink"> <a href="#why-use-a-feed-reader-library" title="permalink">#</a></span></h2>
<p>Have you been unhappy with existing feed readers and wanted to make your own, but:</p>
<ul>
<li>never knew where to start?</li>
<li>it seemed like too much work?</li>
<li>you don't like writing backend code?</li>
</ul>
<p>Are you already working with <a href="https://feedparser.readthedocs.io/en/latest/">feedparser</a>, but:</p>
<ul>
<li>want an easier way to store, filter, sort and search feeds and entries?</li>
<li>want to get back type-annotated objects instead of dicts?</li>
<li>want to restrict or deny file-system access?</li>
<li>want to change the way feeds are retrieved by using <a href="https://requests.readthedocs.io">Requests</a>?</li>
<li>want to also support <a href="https://jsonfeed.org/">JSON Feed</a>?</li>
<li>want to follow <a href="https://reader.readthedocs.io/en/latest/plugins.html#twitter">Twitter</a> accounts?</li>
<li>want to support custom information sources?</li>
</ul>
<p>... while still supporting all the feed types feedparser does?</p>
<p>If you answered yes to any of the above, <em>reader</em> can help.</p>
<h2 id="why-make-your-own-feed-reader">Why make your own feed reader?<span class="headerlink"> <a href="#why-make-your-own-feed-reader" title="permalink">#</a></span></h2>
<p>So you can:</p>
<ul>
<li>have full control over your data</li>
<li>control what features it has or doesn't have</li>
<li>decide how much you pay for it</li>
<li>make sure it doesn't get closed while you're still using it</li>
<li>really, it's <a href="https://rachelbythebay.com/w/2011/10/26/fred/">easier than you think</a></li>
</ul>
<p>Obviously, this may not be your cup of tea, but if it is, <em>reader</em> can help.</p>
<section class="footnotes">
<ol>
<li id="fn-1"><p>A bit more on this <a href="/own-query-builder#background">here</a>. <a href="#fnref-1" class="footnote"><sup>[return]</sup></a></p></li>
</ol>
</section>








</div>
</main>


<footer class="footer">
<p class="text-gray">
<a href="/">home</a>
∙ <a href="/_feed/index.xml">feed</a>
∙ <a href="/about">about</a>

∙ © 2021 lemon24



</footer>


</div>